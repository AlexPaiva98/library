--
-- PostgreSQL database dump
--

-- Dumped from database version 12.6 (Ubuntu 12.6-0ubuntu0.20.04.1)
-- Dumped by pg_dump version 12.6 (Ubuntu 12.6-0ubuntu0.20.04.1)

-- Started on 2021-04-24 17:39:23 -03

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 202 (class 1259 OID 17622)
-- Name: author; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.author (
    id integer NOT NULL,
    name character varying NOT NULL
);


ALTER TABLE public.author OWNER TO postgres;

--
-- TOC entry 203 (class 1259 OID 17628)
-- Name: Author_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public."Author_id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public."Author_id_seq" OWNER TO postgres;

--
-- TOC entry 3068 (class 0 OID 0)
-- Dependencies: 203
-- Name: Author_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public."Author_id_seq" OWNED BY public.author.id;


--
-- TOC entry 204 (class 1259 OID 17630)
-- Name: book; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.book (
    id integer NOT NULL,
    isbn character varying NOT NULL,
    title character varying,
    edition character varying,
    qtd_pages integer,
    year_publication integer,
    available boolean DEFAULT true NOT NULL,
    author_id integer NOT NULL,
    category_id integer,
    publisher_id integer NOT NULL
);


ALTER TABLE public.book OWNER TO postgres;

--
-- TOC entry 205 (class 1259 OID 17637)
-- Name: Book_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public."Book_id_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public."Book_id_seq" OWNER TO postgres;

--
-- TOC entry 3069 (class 0 OID 0)
-- Dependencies: 205
-- Name: Book_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public."Book_id_seq" OWNED BY public.book.id;


--
-- TOC entry 206 (class 1259 OID 17639)
-- Name: book_tag; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.book_tag (
    id integer NOT NULL,
    book_id integer,
    tag_id integer
);


ALTER TABLE public.book_tag OWNER TO postgres;

--
-- TOC entry 207 (class 1259 OID 17642)
-- Name: Book_tag_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public."Book_tag_id_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public."Book_tag_id_seq" OWNER TO postgres;

--
-- TOC entry 3070 (class 0 OID 0)
-- Dependencies: 207
-- Name: Book_tag_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public."Book_tag_id_seq" OWNED BY public.book_tag.id;


--
-- TOC entry 208 (class 1259 OID 17644)
-- Name: borrow; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.borrow (
    id integer NOT NULL,
    book_id integer NOT NULL,
    user_id integer NOT NULL,
    initial_date date NOT NULL,
    final_date date NOT NULL
);


ALTER TABLE public.borrow OWNER TO postgres;

--
-- TOC entry 209 (class 1259 OID 17647)
-- Name: Borrow_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public."Borrow_id_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public."Borrow_id_seq" OWNER TO postgres;

--
-- TOC entry 3071 (class 0 OID 0)
-- Dependencies: 209
-- Name: Borrow_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public."Borrow_id_seq" OWNED BY public.borrow.id;


--
-- TOC entry 210 (class 1259 OID 17649)
-- Name: category; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.category (
    id integer NOT NULL,
    name character varying NOT NULL
);


ALTER TABLE public.category OWNER TO postgres;

--
-- TOC entry 211 (class 1259 OID 17655)
-- Name: Category_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public."Category_id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public."Category_id_seq" OWNER TO postgres;

--
-- TOC entry 3072 (class 0 OID 0)
-- Dependencies: 211
-- Name: Category_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public."Category_id_seq" OWNED BY public.category.id;


--
-- TOC entry 212 (class 1259 OID 17657)
-- Name: publisher; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.publisher (
    id integer NOT NULL,
    company_name character varying,
    cnpj character varying NOT NULL
);


ALTER TABLE public.publisher OWNER TO postgres;

--
-- TOC entry 213 (class 1259 OID 17663)
-- Name: Publishing_house_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public."Publishing_house_id_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public."Publishing_house_id_seq" OWNER TO postgres;

--
-- TOC entry 3073 (class 0 OID 0)
-- Dependencies: 213
-- Name: Publishing_house_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public."Publishing_house_id_seq" OWNED BY public.publisher.id;


--
-- TOC entry 214 (class 1259 OID 17665)
-- Name: tag; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tag (
    id integer NOT NULL,
    name character varying
);


ALTER TABLE public.tag OWNER TO postgres;

--
-- TOC entry 215 (class 1259 OID 17671)
-- Name: Tag_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public."Tag_id_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public."Tag_id_seq" OWNER TO postgres;

--
-- TOC entry 3074 (class 0 OID 0)
-- Dependencies: 215
-- Name: Tag_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public."Tag_id_seq" OWNED BY public.tag.id;


--
-- TOC entry 216 (class 1259 OID 17673)
-- Name: user; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."user" (
    id integer NOT NULL,
    email character varying NOT NULL,
    name character varying NOT NULL
);


ALTER TABLE public."user" OWNER TO postgres;

--
-- TOC entry 217 (class 1259 OID 17679)
-- Name: User_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public."User_id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public."User_id_seq" OWNER TO postgres;

--
-- TOC entry 3075 (class 0 OID 0)
-- Dependencies: 217
-- Name: User_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public."User_id_seq" OWNED BY public."user".id;


--
-- TOC entry 2882 (class 2604 OID 17681)
-- Name: author id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.author ALTER COLUMN id SET DEFAULT nextval('public."Author_id_seq"'::regclass);


--
-- TOC entry 2884 (class 2604 OID 17682)
-- Name: book id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.book ALTER COLUMN id SET DEFAULT nextval('public."Book_id_seq"'::regclass);


--
-- TOC entry 2885 (class 2604 OID 17683)
-- Name: book_tag id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.book_tag ALTER COLUMN id SET DEFAULT nextval('public."Book_tag_id_seq"'::regclass);


--
-- TOC entry 2886 (class 2604 OID 17684)
-- Name: borrow id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.borrow ALTER COLUMN id SET DEFAULT nextval('public."Borrow_id_seq"'::regclass);


--
-- TOC entry 2887 (class 2604 OID 17685)
-- Name: category id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.category ALTER COLUMN id SET DEFAULT nextval('public."Category_id_seq"'::regclass);


--
-- TOC entry 2888 (class 2604 OID 17686)
-- Name: publisher id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.publisher ALTER COLUMN id SET DEFAULT nextval('public."Publishing_house_id_seq"'::regclass);


--
-- TOC entry 2889 (class 2604 OID 17687)
-- Name: tag id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tag ALTER COLUMN id SET DEFAULT nextval('public."Tag_id_seq"'::regclass);


--
-- TOC entry 2890 (class 2604 OID 17688)
-- Name: user id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."user" ALTER COLUMN id SET DEFAULT nextval('public."User_id_seq"'::regclass);


--
-- TOC entry 3047 (class 0 OID 17622)
-- Dependencies: 202
-- Data for Name: author; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.author (id, name) FROM stdin;
48	José Saramago
49	Clarice Lispector
50	Edgar Allan Poe
51	Fiódor Dostoiévski
52	William Shakespeare
53	Marcel Proust
54	Miguel de Cervantes
55	Gabriel García Márquez
56	Franz Kafka
57	Jorge Luis Borges
\.


--
-- TOC entry 3049 (class 0 OID 17630)
-- Dependencies: 204
-- Data for Name: book; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.book (id, isbn, title, edition, qtd_pages, year_publication, available, author_id, category_id, publisher_id) FROM stdin;
6	344-1-8588-6050-7	Nada além de  Marvin	2	940	2016	f	57	20	12
\.


--
-- TOC entry 3051 (class 0 OID 17639)
-- Dependencies: 206
-- Data for Name: book_tag; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.book_tag (id, book_id, tag_id) FROM stdin;
2	6	11
\.


--
-- TOC entry 3053 (class 0 OID 17644)
-- Dependencies: 208
-- Data for Name: borrow; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.borrow (id, book_id, user_id, initial_date, final_date) FROM stdin;
4	6	4022	2001-05-02	2011-08-29
\.


--
-- TOC entry 3055 (class 0 OID 17649)
-- Dependencies: 210
-- Data for Name: category; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.category (id, name) FROM stdin;
12	Romance
13	Drama
14	Novela
15	Conto
16	Crônica
17	Ensaio
18	Poesia
19	Memórias
20	Biografia
21	Aventura
\.


--
-- TOC entry 3057 (class 0 OID 17657)
-- Dependencies: 212
-- Data for Name: publisher; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.publisher (id, company_name, cnpj) FROM stdin;
8	Companhia da Letras	55.789.390/0008-99
9	Aleph	53.523.551/0001-04
10	Suma	90.375.049/0001-11
11	Intrínseca	05.660.045/0001-06
12	Rocco	42.444.703/0004-00
\.


--
-- TOC entry 3059 (class 0 OID 17665)
-- Dependencies: 214
-- Data for Name: tag; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.tag (id, name) FROM stdin;
7	superação
8	motivação
9	aprendizado
10	conduta
11	viagem
\.


--
-- TOC entry 3061 (class 0 OID 17673)
-- Dependencies: 216
-- Data for Name: user; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."user" (id, email, name) FROM stdin;
4022	Maria_Cléo@outlook.com	Edith de Jacinto
\.


--
-- TOC entry 3076 (class 0 OID 0)
-- Dependencies: 203
-- Name: Author_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Author_id_seq"', 57, true);


--
-- TOC entry 3077 (class 0 OID 0)
-- Dependencies: 205
-- Name: Book_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Book_id_seq"', 6, true);


--
-- TOC entry 3078 (class 0 OID 0)
-- Dependencies: 207
-- Name: Book_tag_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Book_tag_id_seq"', 2, true);


--
-- TOC entry 3079 (class 0 OID 0)
-- Dependencies: 209
-- Name: Borrow_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Borrow_id_seq"', 4, true);


--
-- TOC entry 3080 (class 0 OID 0)
-- Dependencies: 211
-- Name: Category_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Category_id_seq"', 21, true);


--
-- TOC entry 3081 (class 0 OID 0)
-- Dependencies: 213
-- Name: Publishing_house_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Publishing_house_id_seq"', 12, true);


--
-- TOC entry 3082 (class 0 OID 0)
-- Dependencies: 215
-- Name: Tag_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Tag_id_seq"', 11, true);


--
-- TOC entry 3083 (class 0 OID 0)
-- Dependencies: 217
-- Name: User_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."User_id_seq"', 4022, true);


--
-- TOC entry 2892 (class 2606 OID 17690)
-- Name: author author_pk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.author
    ADD CONSTRAINT author_pk PRIMARY KEY (id);


--
-- TOC entry 2895 (class 2606 OID 17692)
-- Name: book book_pk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.book
    ADD CONSTRAINT book_pk PRIMARY KEY (id);


--
-- TOC entry 2899 (class 2606 OID 17696)
-- Name: borrow borrow_pk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.borrow
    ADD CONSTRAINT borrow_pk PRIMARY KEY (id);


--
-- TOC entry 2902 (class 2606 OID 17698)
-- Name: category category_pk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.category
    ADD CONSTRAINT category_pk PRIMARY KEY (id);


--
-- TOC entry 2905 (class 2606 OID 17700)
-- Name: publisher publishing_house_pk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.publisher
    ADD CONSTRAINT publishing_house_pk PRIMARY KEY (id);


--
-- TOC entry 2908 (class 2606 OID 17702)
-- Name: tag tag_pk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tag
    ADD CONSTRAINT tag_pk PRIMARY KEY (id);


--
-- TOC entry 2897 (class 2606 OID 17748)
-- Name: book_tag unique_book_id; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.book_tag
    ADD CONSTRAINT unique_book_id UNIQUE (book_id);


--
-- TOC entry 2910 (class 2606 OID 17746)
-- Name: user unique_email; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."user"
    ADD CONSTRAINT unique_email UNIQUE (email);


--
-- TOC entry 2913 (class 2606 OID 17704)
-- Name: user user_pk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."user"
    ADD CONSTRAINT user_pk PRIMARY KEY (id);


--
-- TOC entry 2893 (class 1259 OID 17705)
-- Name: book_isbn_uindex; Type: INDEX; Schema: public; Owner: postgres
--

CREATE UNIQUE INDEX book_isbn_uindex ON public.book USING btree (isbn);


--
-- TOC entry 2900 (class 1259 OID 17706)
-- Name: category_name_uindex; Type: INDEX; Schema: public; Owner: postgres
--

CREATE UNIQUE INDEX category_name_uindex ON public.category USING btree (name);


--
-- TOC entry 2903 (class 1259 OID 17707)
-- Name: publishing_house_cnpj_uindex; Type: INDEX; Schema: public; Owner: postgres
--

CREATE UNIQUE INDEX publishing_house_cnpj_uindex ON public.publisher USING btree (cnpj);


--
-- TOC entry 2906 (class 1259 OID 17708)
-- Name: tag_name_uindex; Type: INDEX; Schema: public; Owner: postgres
--

CREATE UNIQUE INDEX tag_name_uindex ON public.tag USING btree (name);


--
-- TOC entry 2911 (class 1259 OID 17709)
-- Name: user_email_uindex; Type: INDEX; Schema: public; Owner: postgres
--

CREATE UNIQUE INDEX user_email_uindex ON public."user" USING btree (email);


--
-- TOC entry 2914 (class 2606 OID 17710)
-- Name: book book_author_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.book
    ADD CONSTRAINT book_author_id_fk FOREIGN KEY (author_id) REFERENCES public.author(id) ON DELETE CASCADE;


--
-- TOC entry 2915 (class 2606 OID 17715)
-- Name: book book_category_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.book
    ADD CONSTRAINT book_category_id_fk FOREIGN KEY (category_id) REFERENCES public.category(id) ON DELETE SET NULL;


--
-- TOC entry 2916 (class 2606 OID 17720)
-- Name: book book_publisher_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.book
    ADD CONSTRAINT book_publisher_id_fk FOREIGN KEY (publisher_id) REFERENCES public.publisher(id) ON DELETE SET NULL;


--
-- TOC entry 2917 (class 2606 OID 17725)
-- Name: book_tag book_tag_book_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.book_tag
    ADD CONSTRAINT book_tag_book_id_fk FOREIGN KEY (book_id) REFERENCES public.book(id) ON DELETE CASCADE;


--
-- TOC entry 2918 (class 2606 OID 17730)
-- Name: book_tag book_tag_tag_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.book_tag
    ADD CONSTRAINT book_tag_tag_id_fk FOREIGN KEY (tag_id) REFERENCES public.tag(id);


--
-- TOC entry 2919 (class 2606 OID 17735)
-- Name: borrow borrow_book_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.borrow
    ADD CONSTRAINT borrow_book_id_fk FOREIGN KEY (book_id) REFERENCES public.book(id) ON DELETE CASCADE;


--
-- TOC entry 2920 (class 2606 OID 17740)
-- Name: borrow borrow_user_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.borrow
    ADD CONSTRAINT borrow_user_id_fk FOREIGN KEY (user_id) REFERENCES public."user"(id) ON DELETE CASCADE;


-- Completed on 2021-04-24 17:39:23 -03

--
-- PostgreSQL database dump complete
--

